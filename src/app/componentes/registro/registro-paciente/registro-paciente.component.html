<br>
<br>
<form [formGroup]="formPaciente" (ngSubmit)="registrarPaciente()" class="form">
    <strong style="text-align: start;">Registrar Paciente</strong>
    <br>
    <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>Nombre</mat-label>
            <input matInput formControlName="nombre" required>
            <mat-error *ngIf="formPaciente.get('nombre')?.touched && (formPaciente.get('nombre')?.hasError('required') || formPaciente.get('nombre')?.hasError('pattern')) || formPaciente.get('nombre')?.hasError('maxlength')">
                <span *ngIf="formPaciente.get('nombre')?.hasError('required')">Nombre es requerido.</span>
                <span *ngIf="formPaciente.get('nombre')?.hasError('pattern')">Debe contener solo letras.</span>
                <span *ngIf="formPaciente.get('nombre')?.hasError('maxlength')">El nombre es muy largo, max: 15 caracteres.</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>Apellido</mat-label>
            <input matInput formControlName="apellido" required>
            <mat-error *ngIf="formPaciente.get('apellido')?.touched && (formPaciente.get('apellido')?.hasError('required') || formPaciente.get('apellido')?.hasError('pattern')) || formPaciente.get('apellido')?.hasError('maxlength')">
                <span *ngIf="formPaciente.get('apellido')?.hasError('required')">Apellido es requerido.</span>
                <span *ngIf="formPaciente.get('apellido')?.hasError('pattern')">Debe contener solo letras.</span>
                <span *ngIf="formPaciente.get('apellido')?.hasError('maxlength')">El apellido es muy largo, max: 15 caracteres.</span>
            </mat-error>
        </mat-form-field>
    </div>
    <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>Edad</mat-label>
            <input matInput type="number" formControlName="edad" required>
            <mat-error *ngIf="formPaciente.get('edad')?.touched && (formPaciente.get('edad')?.hasError('required') || formPaciente.get('edad')?.hasError('min'))">
                <span *ngIf="formPaciente.get('edad')?.hasError('required')"> Edad es requerido.</span>
                <span *ngIf="formPaciente.get('edad')?.hasError('min')">La Edad minima para el paciente debe ser de 1 a침o.</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>DNI</mat-label>
            <input matInput formControlName="dni" required>
            <mat-error *ngIf="formPaciente.get('dni')?.touched && (formPaciente.get('dni')?.hasError('required') || formPaciente.get('dni')?.hasError('minlength'))">
                <span *ngIf="formPaciente.get('dni')?.hasError('required')"> DNI es requerido.</span>
                <span *ngIf="formPaciente.get('dni')?.hasError('minlength')">Formato incorrecto. El DNI debe estar compuesto por 8 digitos.</span>
            </mat-error>
        </mat-form-field>
    </div>
    <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>Obra Social</mat-label>
            <input matInput formControlName="obraSocial">
            <mat-error *ngIf="formPaciente.get('obraSocial')?.touched && (formPaciente.get('obraSocial')?.hasError('required') || formPaciente.get('obraSocial')?.hasError('maxlength')) || formPaciente.get('obraSocial')?.hasError('pattern')">
                <span *ngIf="formPaciente.get('obraSocial')?.hasError('required')"> Obra Social es requerida.</span>
                <span *ngIf="formPaciente.get('obraSocial')?.hasError('maxlength')">El nombre de la Obra Social es muy largo, max: 25 caracteres.</span>
                <span *ngIf="formPaciente.get('obraSocial')?.hasError('pattern')">Debe contener solo letras.</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>Mail</mat-label>
            <input matInput type="email" formControlName="email" required>
            <mat-error *ngIf="formPaciente.get('email')?.touched && (formPaciente.get('email')?.hasError('required') || formPaciente.get('email')?.hasError('email'))">
                <span *ngIf="formPaciente.get('email')?.hasError('required')"> Email es requerido.</span>
                <span *ngIf="formPaciente.get('email')?.hasError('email')">Email no es v치lido.</span>
            </mat-error>
        </mat-form-field>
    </div>
    <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>Password</mat-label>
            <input matInput type="password" formControlName="password" required>
            <mat-error *ngIf="formPaciente.get('password')?.touched && (formPaciente.get('password')?.hasError('required') || formPaciente.get('password')?.hasError('minlength'))">
                <span *ngIf="formPaciente.get('password')?.hasError('required')">  Contrase침a es requerida.</span>
                <span *ngIf="formPaciente.get('password')?.hasError('minlength')">La contrase침a es muy corta, min: 5 digitos.</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>Imagen 1 de perfil</mat-label>
            <button mat-icon-button matPrefix (click)="f_input1.click()">
                <mat-icon>attach_file</mat-icon>
            </button>
            <input type="text" readonly matInput [formControl]="imagenUno">
            <input
                type="file"
                hidden
                #f_input1
                (change)="handleFileInputChange($event, 'imagenUno')"
            />
            <mat-error *ngIf="formPaciente.get('imagenUno')?.hasError('required')">
                Imagen de Perfil 1 es requerida
            </mat-error>
        </mat-form-field>
    </div>
    <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
            <mat-label>Imagen 2 de perfil</mat-label>
            <button mat-icon-button matPrefix (click)="f_input2.click()">
                <mat-icon>attach_file</mat-icon>
            </button>
            <input type="text" readonly matInput [formControl]="imagenDos">
            <input
                type="file"
                hidden
                #f_input2
                (change)="handleFileInputChange($event, 'imagenDos')"
            />
            <mat-error *ngIf="formPaciente.get('imagenDos')?.hasError('required')">
                Imagen de Perfil 2 es requerida
            </mat-error>
        </mat-form-field>
    </div>   
    <re-captcha formControlName="recaptchaReactive" siteKey="6Le33AYqAAAAAJhNjVMi_ns1hJ6TpRH9K76gXJIG"></re-captcha>
    <mat-error *ngIf=" formPaciente.get('recaptchaReactive')?.touched  && formPaciente.get('recaptchaReactive')?.hasError('required')">
        Por favor verifique el captcha.
    </mat-error>

    <button mat-raised-button color="primary" type="submit">Registrar Paciente</button>
</form>

<br>
<mat-divider></mat-divider>
<mat-checkbox class="autoCompletar" [color]="'warn'" [(ngModel)]="checked" (change)="onCheckboxChange($event)">
    Auto completar los campos del registro
</mat-checkbox>
